{%extends "base.html"%}

{%block title%}Question{%endblock%}

{%block backLink%}
{{url_for('load_question', cat = url, id = id-1)}}
{%endblock%}

{%block content%}
<div id="subcategory-main-menu">
    <div id="titleDiv">
        <p id="subcategory-title" class="title" style="color:white;">{{subcategory["name"]}}</p>
    </div>
    <div style="width: 100%;color:white;margin-bottom:50px" class="bodyText">
        {{question["question"]}}<br><br>
        1 - {{question["lowerScale"]}}<br>
        5 - {{question["upperScale"]}}
    </div>
    <div class="optionMainDiv" style="display: flex;justify-content:center">
        {%for i in range(0,6)%}
        <div class="optionContainer">
            {%if i == 0%}
            <div class="invisibleRadioCircle flexAlign smallerText">1</div>
            {%elif i == 4%}
            <div class="invisibleRadioCircle flexAlign smallerText">5</div>
            {%elif i == 5%}
            <div class="invisibleRadioCircle flexAlign smallerText">Other</div>
            {%else%}
            <div class="invisibleRadioCircle"></div>
            {%endif%}
            {%if session["score-" + url + "-" +id|string] is defined and session["score-" + url + "-" +id|string] == i%}
            <div class="radioCircle flexAlign" style="border-color: #FF642B;"
                onclick="selectOption('{{url}}', {{i}}, {{id}}, '{{url_for('update_session_score')}}')">Du</div>
            {%else%}
            <div class="radioCircle flexAlign"
                onclick="selectOption('{{url}}', {{i}}, {{id}}, '{{url_for('update_session_score')}}')"></div>
            {%endif%}
            {%for j in range(0, candidates|length)%}
            {%if candidates[j]["answer"]["value"] == i+1%}
            {%if session["score-" + url + "-" +id|string] is defined%}
            <img src="{{url_for('static', filename='images/pfp/' + candidates[j]['pfp'])}}" id="{{j}}"
                class="radioCircleImage" style="display: block;" onclick="revealReason({{j}})">
            {%else%}
            <img src="{{url_for('static', filename='images/pfp/' + candidates[j]['pfp'])}}" id="{{j}}"
                class="radioCircleImage" onclick="revealReason({{j}})">
            {%endif%}

            {%endif%}
            {%endfor%}
        </div>
        {%endfor%}
    </div>
</div>
{%for j in range(0, candidates|length)%}
<div style="display: none;" id="">
    <p id="{{j}}-reason">
        {{candidates[j]["answer"]["reason"]}}
    </p>
    <p id="{{j}}-name">
        {{candidates[j]["name"]}}
    </p>
    <img src="{{url_for('static', filename='images/pfp/' + candidates[j]['pfp'])}}" id="{{j}}-img">
</div>
{%endfor%}
{%endblock%}

{%block fixedBottom%}
<a href="{{url_for('load_question', cat = url, id = id+1)}}" class="flexAlign bottomButton">
    <div>
        {%if session["score-" + url + "-" +id|string] is defined%}
        <p class="orangeButton" id="orangeButton">Next</p>
        {%else%}

        <p class="orangeButton" id="orangeButton">Skip</p>
        {%endif%}
    </div>
</a>
{%endblock%}